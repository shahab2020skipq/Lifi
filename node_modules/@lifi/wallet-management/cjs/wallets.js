"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.supportedWallets = void 0;
const sdk_1 = require("@lifi/sdk");
const injectedConnector_1 = require("./connectors/injectedConnector");
const walletConnectConnector_1 = require("./connectors/walletConnectConnector");
const types_1 = require("./types");
const walletIcons_1 = require("./walletIcons");
const defaultWallet = new injectedConnector_1.InjectedConnector({
    // unknown Default wallet that injects as metamask but is not metamask
    name: 'Default Wallet',
    installed: () => !!window.ethereum &&
        !window?.ethereum?.[types_1.ProviderIdentityFlag.MetaMask],
    icon: walletIcons_1.walletIcons.placeholder,
});
const metamask = new injectedConnector_1.InjectedConnector({
    name: 'MetaMask',
    installed: () => !!window?.ethereum?.[types_1.ProviderIdentityFlag.MetaMask],
    icon: walletIcons_1.walletIcons.metamask,
});
const walletConnect = new walletConnectConnector_1.WalletConnectConnector({
    name: 'Wallet Connect',
    installed: () => true,
    icon: walletIcons_1.walletIcons.walletConnect,
    rpc: Object.fromEntries(sdk_1.supportedChains.map((chain) => {
        return [chain.id, chain.metamask.rpcUrls[0] || ''];
    })),
});
const frontier = new injectedConnector_1.InjectedConnector({
    name: 'Frontier',
    installed: () => window.frontier,
    icon: walletIcons_1.walletIcons.frontier,
}, window.frontier?.ethereum);
const brave = new injectedConnector_1.InjectedConnector({
    name: 'Brave',
    installed: () => 
    // eslint-disable-next-line no-underscore-dangle
    navigator.brave && window._web3Ref,
    icon: walletIcons_1.walletIcons.brave,
});
const mathWallet = new injectedConnector_1.InjectedConnector({
    name: 'MathWallet',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.MathWallet],
    icon: walletIcons_1.walletIcons.mathwallet,
});
const tallyho = new injectedConnector_1.InjectedConnector({
    name: 'Taho',
    installed: () => window.tally &&
        window.tally?.[types_1.ProviderIdentityFlag.TallyHo],
    icon: walletIcons_1.walletIcons.tallyho,
}, window.tally);
const blockWallet = new injectedConnector_1.InjectedConnector({
    name: 'BlockWallet',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.BlockWallet],
    icon: walletIcons_1.walletIcons.blockwallet,
});
const binance = new injectedConnector_1.InjectedConnector({
    name: 'Binance',
    installed: () => window.BinanceChain,
    icon: walletIcons_1.walletIcons.binance,
}, window.BinanceChain);
const coinbase = new injectedConnector_1.InjectedConnector({
    name: 'Coinbase',
    installed: () => window.coinbaseWalletExtension,
    icon: walletIcons_1.walletIcons.coinbase,
}, window.coinbaseWalletExtension);
const trust = new injectedConnector_1.InjectedConnector({
    name: 'Trust',
    installed: () => window.trustWallet,
    icon: walletIcons_1.walletIcons.trust,
}, window.trustWallet);
const status = new injectedConnector_1.InjectedConnector({
    name: 'Status',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.Status],
    icon: walletIcons_1.walletIcons.status,
});
const alphawallet = new injectedConnector_1.InjectedConnector({
    name: 'AlphaWallet',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.AlphaWallet],
    icon: walletIcons_1.walletIcons.alphawallet,
});
const atoken = new injectedConnector_1.InjectedConnector({
    name: 'AToken',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.AToken],
    icon: walletIcons_1.walletIcons.atoken,
});
const apex = new injectedConnector_1.InjectedConnector({
    name: 'Apex Wallet',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.ApexWallet],
    icon: walletIcons_1.walletIcons.placeholder,
});
const bitpie = new injectedConnector_1.InjectedConnector({
    name: 'Bitpie',
    installed: () => window.ethereum?.Bitpie,
    icon: walletIcons_1.walletIcons.bitpie,
});
const dcent = new injectedConnector_1.InjectedConnector({
    name: 'Dcent',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.Dcent],
    icon: walletIcons_1.walletIcons.dcent,
});
const frame = new injectedConnector_1.InjectedConnector({
    name: 'Frame',
    installed: () => window.frame,
    icon: walletIcons_1.walletIcons.frame,
}, window.frame);
const huobiwallet = new injectedConnector_1.InjectedConnector({
    name: 'HuobiWallet',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.HuobiWallet],
    icon: walletIcons_1.walletIcons.huobiwallet,
});
const hyperpay = new injectedConnector_1.InjectedConnector({
    name: 'HyperPay',
    // Note: The property `hiWallet` is as of now the only known way of identifying hyperpay
    // wallet as it is a direct clone of metamask. `checkProviderIdentity` implementation is subject to
    // future changes
    installed: () => window.ethereum?.hiWallet,
    icon: walletIcons_1.walletIcons.hyperpay,
});
const imtoken = new injectedConnector_1.InjectedConnector({
    name: 'ImToken',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.ImToken],
    icon: walletIcons_1.walletIcons.imtoken,
});
const liquality = new injectedConnector_1.InjectedConnector({
    name: 'Liquality',
    installed: () => window.liquality,
    icon: walletIcons_1.walletIcons.liquality,
}, window.liquality);
const meetone = new injectedConnector_1.InjectedConnector({
    name: 'MeetOne',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.MeetOne] === 'MEETONE',
    icon: walletIcons_1.walletIcons.meetone,
});
const mykey = new injectedConnector_1.InjectedConnector({
    name: 'MyKey',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.MyKey],
    icon: walletIcons_1.walletIcons.mykey,
});
const ownbit = new injectedConnector_1.InjectedConnector({
    name: 'OwnBit',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.OwnBit],
    icon: walletIcons_1.walletIcons.ownbit,
});
const tokenpocket = new injectedConnector_1.InjectedConnector({
    name: 'TokenPocket',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.TokenPocket] &&
        !window.ethereum?.[types_1.ProviderIdentityFlag.TP],
    icon: walletIcons_1.walletIcons.tokenpocket,
});
const xdefi = new injectedConnector_1.InjectedConnector({
    name: 'XDEFI',
    // eslint-disable-next-line dot-notation
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.XDEFI],
    icon: walletIcons_1.walletIcons.xdefi,
});
const oneInch = new injectedConnector_1.InjectedConnector({
    name: 'OneInch',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.OneInch],
    icon: walletIcons_1.walletIcons.oneInch,
});
const tokenary = new injectedConnector_1.InjectedConnector({
    name: 'Tokenary',
    installed: () => window.ethereum?.[types_1.ProviderIdentityFlag.Tokenary],
    icon: walletIcons_1.walletIcons.tokenary,
});
exports.supportedWallets = [
    defaultWallet,
    metamask,
    walletConnect,
    tallyho,
    binance,
    frontier,
    coinbase,
    trust,
    status,
    alphawallet,
    atoken,
    blockWallet,
    bitpie,
    brave,
    apex,
    dcent,
    frame,
    huobiwallet,
    hyperpay,
    imtoken,
    liquality,
    meetone,
    mykey,
    ownbit,
    tokenpocket,
    xdefi,
    oneInch,
    tokenary,
    mathWallet,
];
