import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Box, useMediaQuery } from '@mui/material';
import { useWatch } from 'react-hook-form';
import { ReverseTokensButton } from '../components/ReverseTokensButton';
import { SelectTokenButton } from '../components/SelectTokenButton';
import { SwapFormKey, useWidgetConfig } from '../providers';
import { DisabledUI } from '../types';
export const SelectChainAndToken = (props) => {
    const prefersNarrowView = useMediaQuery((theme) => theme.breakpoints.down('sm'));
    const { disabledUI, variant } = useWidgetConfig();
    const [fromChain, toChain, fromToken, toToken] = useWatch({
        name: [
            SwapFormKey.FromChain,
            SwapFormKey.ToChain,
            SwapFormKey.FromToken,
            SwapFormKey.ToToken,
        ],
    });
    const disabledReverse = variant === 'refuel' ||
        disabledUI?.includes(DisabledUI.FromToken) ||
        disabledUI?.includes(DisabledUI.ToToken);
    const nftVariant = variant === 'nft';
    const isCompact = fromChain &&
        toChain &&
        fromToken &&
        toToken &&
        !prefersNarrowView &&
        !nftVariant;
    return (_jsxs(Box, { sx: { display: 'flex', flexDirection: isCompact ? 'row' : 'column' }, ...props, children: [_jsx(SelectTokenButton, { formType: "from", compact: isCompact }), !nftVariant ? (_jsx(Box, { sx: {
                    display: 'flex',
                    justifyContent: 'center',
                    alignItems: 'center',
                }, m: !disabledReverse ? -1.125 : 1, children: !disabledReverse ? (_jsx(ReverseTokensButton, { vertical: !isCompact })) : null })) : null, !nftVariant ? (_jsx(SelectTokenButton, { formType: "to", compact: isCompact })) : null] }));
};
