import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { QueryClientProvider } from '@tanstack/react-query';
import { Fragment } from 'react';
import { MemoryRouter, useInRouterContext } from 'react-router-dom';
import { queryClient } from './config/queryClient';
import { I18nProvider, SDKProvider, SwapFormProvider, ThemeProvider, URLSearchParamsBuilder, WalletProvider, WidgetProvider, useWidgetConfig, } from './providers';
import { StoreProvider } from './stores';
export const AppProvider = ({ children, config, }) => {
    return (_jsx(QueryClientProvider, { client: queryClient, children: _jsx(StoreProvider, { namePrefix: config?.localStorageKeyPrefix, children: _jsx(WidgetProvider, { config: config, children: _jsx(SDKProvider, { children: _jsx(ThemeProvider, { children: _jsx(I18nProvider, { children: _jsx(WalletProvider, { children: _jsx(SwapFormProvider, { children: _jsx(AppRouter, { children: children }) }) }) }) }) }) }) }) }));
};
export const AppRouter = ({ children }) => {
    const { buildSwapUrl } = useWidgetConfig();
    const inRouterContext = useInRouterContext();
    const Router = inRouterContext ? Fragment : MemoryRouter;
    return (_jsxs(Router, { children: [children, buildSwapUrl ? _jsx(URLSearchParamsBuilder, {}) : null] }));
};
