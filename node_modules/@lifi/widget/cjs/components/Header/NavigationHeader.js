"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NavigationHeader = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const ArrowBack_1 = require("@mui/icons-material/ArrowBack");
const ReceiptLong_1 = require("@mui/icons-material/ReceiptLong");
const Settings_1 = require("@mui/icons-material/Settings");
const material_1 = require("@mui/material");
const react_i18next_1 = require("react-i18next");
const react_router_dom_1 = require("react-router-dom");
const hooks_1 = require("../../hooks");
const providers_1 = require("../../providers");
const utils_1 = require("../../utils");
const Header_style_1 = require("./Header.style");
const useHeaderActionStore_1 = require("./useHeaderActionStore");
const NavigationHeader = () => {
    const { t } = (0, react_i18next_1.useTranslation)();
    const { variant } = (0, providers_1.useWidgetConfig)();
    const { navigate, navigateBack } = (0, hooks_1.useNavigateBack)();
    const { account } = (0, providers_1.useWallet)();
    const { element } = (0, useHeaderActionStore_1.useHeaderActionStore)();
    const { pathname } = (0, react_router_dom_1.useLocation)();
    const cleanedPathname = pathname.endsWith('/')
        ? pathname.slice(0, -1)
        : pathname;
    const path = cleanedPathname.substring(cleanedPathname.lastIndexOf('/') + 1);
    const hasPath = utils_1.navigationRoutesValues.includes(path);
    const handleHeaderTitle = () => {
        switch (path) {
            case utils_1.navigationRoutes.selectWallet:
                return t(`header.selectWallet`);
            case utils_1.navigationRoutes.settings:
                return t(`header.settings`);
            case utils_1.navigationRoutes.bridges:
                return t(`settings.enabledBridges`);
            case utils_1.navigationRoutes.exchanges:
                return t(`settings.enabledExchanges`);
            case utils_1.navigationRoutes.swapHistory:
                return t(`header.swapHistory`);
            case utils_1.navigationRoutes.fromToken:
                return t(`header.from`);
            case utils_1.navigationRoutes.toToken:
                return t(`header.to`);
            case utils_1.navigationRoutes.fromChain:
            case utils_1.navigationRoutes.toChain:
            case utils_1.navigationRoutes.toTokenNative:
                return t(`header.selectChain`);
            case utils_1.navigationRoutes.swapRoutes:
                return t(`header.routes`);
            case utils_1.navigationRoutes.activeSwaps:
                return t(`header.activeSwaps`);
            case utils_1.navigationRoutes.swapExecution:
                return t(`header.swap`);
            case utils_1.navigationRoutes.swapDetails:
                return t(`header.swapDetails`);
            default: {
                switch (variant) {
                    case 'nft':
                        return t(`header.checkout`);
                    case 'refuel':
                        return t(`header.gas`);
                    default:
                        return t(`header.swap`);
                }
            }
        }
    };
    return ((0, jsx_runtime_1.jsxs)(Header_style_1.HeaderAppBar, { elevation: 0, children: [utils_1.backButtonRoutes.includes(path) ? ((0, jsx_runtime_1.jsx)(material_1.IconButton, { size: "medium", edge: "start", onClick: navigateBack, children: (0, jsx_runtime_1.jsx)(ArrowBack_1.default, {}) })) : null, (0, jsx_runtime_1.jsx)(material_1.Typography, { fontSize: hasPath ? 18 : 24, align: hasPath ? 'center' : 'left', fontWeight: "700", flex: 1, noWrap: true, children: handleHeaderTitle() }), (0, jsx_runtime_1.jsxs)(react_router_dom_1.Routes, { children: [(0, jsx_runtime_1.jsx)(react_router_dom_1.Route, { path: utils_1.navigationRoutes.home, element: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [account.isActive ? ((0, jsx_runtime_1.jsx)(material_1.Tooltip, { title: t(`header.swapHistory`), enterDelay: 400, arrow: true, children: (0, jsx_runtime_1.jsx)(material_1.IconButton, { size: "medium", edge: "start", onClick: () => navigate(utils_1.navigationRoutes.swapHistory), children: (0, jsx_runtime_1.jsx)(ReceiptLong_1.default, {}) }) })) : null, (0, jsx_runtime_1.jsx)(material_1.Tooltip, { title: t(`header.settings`), enterDelay: 400, arrow: true, children: (0, jsx_runtime_1.jsx)(material_1.IconButton, { size: "medium", onClick: () => navigate(utils_1.navigationRoutes.settings), sx: {
                                            marginRight: -1.25,
                                        }, children: (0, jsx_runtime_1.jsx)(Settings_1.default, {}) }) })] }) }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Route, { path: "*", element: element || (0, jsx_runtime_1.jsx)(material_1.Box, { width: 28, height: 40 }) })] })] }));
};
exports.NavigationHeader = NavigationHeader;
