"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GasMessage = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const material_1 = require("@mui/material");
const hooks_1 = require("../../hooks");
const stores_1 = require("../../stores");
const FundsSufficiencyMessage_1 = require("./FundsSufficiencyMessage");
const GasSufficiencyMessage_1 = require("./GasSufficiencyMessage");
const GasMessage = ({ route, ...props }) => {
    const { insufficientGas } = (0, hooks_1.useGasSufficiency)(route);
    const { insufficientFunds } = (0, hooks_1.useFundsSufficiency)(route);
    const { enabledAutoRefuel } = (0, stores_1.useSettings)(['enabledAutoRefuel']);
    const { enabled, isLoading: isRefuelLoading } = (0, hooks_1.useGasRefuel)();
    const enabledRefuel = enabled && enabledAutoRefuel;
    const showGasSufficiencyMessage = insufficientGas?.length && !isRefuelLoading && !enabledRefuel;
    return ((0, jsx_runtime_1.jsx)(material_1.Collapse, { timeout: 225, in: Boolean(insufficientFunds || showGasSufficiencyMessage), unmountOnExit: true, mountOnEnter: true, children: (0, jsx_runtime_1.jsx)(material_1.Box, { ...props, children: insufficientFunds ? ((0, jsx_runtime_1.jsx)(FundsSufficiencyMessage_1.FundsSufficiencyMessage, {})) : showGasSufficiencyMessage ? ((0, jsx_runtime_1.jsx)(GasSufficiencyMessage_1.GasSufficiencyMessage, { insufficientGas: insufficientGas })) : null }) }));
};
exports.GasMessage = GasMessage;
