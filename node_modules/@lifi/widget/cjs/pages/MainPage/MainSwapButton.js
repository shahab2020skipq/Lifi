"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MainSwapButton = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_hook_form_1 = require("react-hook-form");
const react_router_dom_1 = require("react-router-dom");
const SwapButton_1 = require("../../components/SwapButton");
const hooks_1 = require("../../hooks");
const stores_1 = require("../../stores");
const utils_1 = require("../../utils");
const MainSwapButton = () => {
    const navigate = (0, react_router_dom_1.useNavigate)();
    const { isValid, isValidating } = (0, react_hook_form_1.useFormState)();
    const setExecutableRoute = (0, stores_1.useSetExecutableRoute)();
    const { routes: swapRoutes, isLoading, isFetching } = (0, hooks_1.useSwapRoutes)();
    const currentRoute = swapRoutes?.[0];
    const handleClick = async () => {
        if (currentRoute) {
            setExecutableRoute(currentRoute);
            navigate(utils_1.navigationRoutes.swapExecution, {
                state: { routeId: currentRoute.id },
            });
        }
    };
    return ((0, jsx_runtime_1.jsx)(SwapButton_1.SwapButton, { onClick: handleClick, hasRoute: Boolean(currentRoute), disabled: currentRoute && (isLoading || isFetching || isValidating || !isValid) }));
};
exports.MainSwapButton = MainSwapButton;
